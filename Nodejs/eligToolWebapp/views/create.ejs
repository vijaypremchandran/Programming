<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Eligibility Testing Application</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
            <div class="container px-5">
                <a class="navbar-brand" href="/Home">Home</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                      <li class="nav-item"><a class="nav-link" href="/create">Create</a></li>
                      <li class="nav-item"><a class="nav-link" href="/load">Load</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Header-->
        <header class="masthead text-center text-white">
            <div class="masthead-content">
                <div class="container px-5">
                    <h1 class="masthead-heading mb-0">Eligibility Testing Tool </h1>
                    <h2 class="masthead-subheading mb-0">Create -> Send -> Load </h2>
                </div>
            </div>
            <div class="bg-circle-1 bg-circle"></div>
            <div class="bg-circle-2 bg-circle"></div>
            <div class="bg-circle-3 bg-circle"></div>
            <div class="bg-circle-4 bg-circle"></div>
        </header>
        <body class="card-body">

            <!-- adding ejs condition to show messsage on the screen -->
            <% if (altMessage.messageStatus == "Y"){ %>
              <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <strong>Message!</strong> <%= altMessage.message %>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div> 
            <% }; %>
            <!-- ejs condition ends -->
        
            <h1 class="text-center text-muted" >X12/Cardh29 file generator</h1>
               <form id="newForm" class="was-validated" action="/x12FileGen" method="POST">
                 <div class=" form-group row">
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Subscriber</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12Subscriber" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Y/N (INS)" required maxlength="1" pattern="[Y/N]{1}">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Card holder num</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12cardNum" class="form-control form-control-sm" id="colFormLabelSm" placeholder="10 digit card holder # (REF 0F)" required maxlength="10" pattern="[0-9]{10}">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Member num</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12memNum" class="form-control form-control-sm" id="colFormLabelSm" placeholder="2 digit member # (INS)" required maxlength="2" pattern="[0-9]{02}">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Relation Code</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12relCode" class="form-control form-control-sm" id="colFormLabelSm" placeholder="2 digit number # (INS)" required maxlength="2" pattern="[0-9]{02}">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Last name</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12lastName" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="Mandatory (NM1)" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">First name</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12firstName" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="Mandatory (NM1)" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Birth date</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12birthDate" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="CCYYDDMM (DMG)" required maxlength="8" pattern="[0-9]{08}" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Gender code</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12genderCode" class="form-control form-control-sm" id="colFormLabelSm" placeholder="M/F/O (DMG)" required maxlength="1" pattern="[M/F/O]{1}">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">SSN num</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12ssnNum" class="form-control form-control-sm" id="colFormLabelSm" placeholder="10 digit num # (no dashes) (NM1) " maxlength="10" pattern="[0-9]{10}">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Beg date</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12begDate" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="CCYYDDMM (DTP*348)" required maxlength="8" pattern="[0-9]{08}" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">End date</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12endDate" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="CCYYDDMM (DTP*349)" required maxlength="8" pattern="[0-9]{08}" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Chg date</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12chgDate" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="CCYYDDMM (DTP*303)" required maxlength="8" pattern="[0-9]{08}" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Alt Grp ID</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12altGrpId" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="REF 1L" maxlength="20" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Dep num</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12dxId" class="form-control form-control-sm" id="colFormLabelSm" placeholder="REF DX" maxlength="14">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Alternate num</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12zzId" class="form-control form-control-sm" id="colFormLabelSm" placeholder="REF ZZ" maxlength="14">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Number on Card</label>
                    <div class="col-sm-2">
                      <input type="text" name="x1223Id" class="form-control form-control-sm" id="colFormLabelSm" placeholder="REF 23" maxlength="20">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Cov Level Code </label>
                    <div class="col-sm-2">
                      <input type="text" name="x12covlvlCode" class="form-control form-control-sm" id="colFormLabelSm" placeholder="EMP/IND/CHD" maxlength="3" pattern="[A-Z]{03}" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Cov Type</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12covType" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="1-7 for CA29 fmt" maxlength="1" pattern="[0-7]{01}" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Address Line 1</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12addrLn1" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Address Line 1" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Address Line 2</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12addrLn2" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Address Line 2" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">City</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12city" class="form-control form-control-sm" id="colFormLabelSm" placeholder="City" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">State</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12state" class="form-control form-control-sm" id="colFormLabelSm" placeholder=" 2 Char State prefix" maxlength="2" pattern="[A-Z]{2}" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Zip (5 char)</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12zip5" class="form-control form-control-sm" id="colFormLabelSm" placeholder="5 digit zip code" maxlength="5" pattern="[0-9]{5}" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Zip (4 char)</label>
                    <div class="col-sm-2">
                      <input type="text" name="x12zip4" class="form-control form-control-sm" id="colFormLabelSm" placeholder="4 digit zip code" maxlength="4" pattern="[0-9]{4}" >
                    </div>
        
                    <div class="mb-6 col-sm-6">  
                      <label for="runType">File format</label>
                      <select name="runType" id="runType">
                        <option value="X12" name = "X12" >X12</option>
                        <option value="Cardh29" name = "Cardh29" >Cardh29</option>
                      </select>
                    </div>
          
                  </div>
                 <br>
                 <div class="row">
                   <div class="mb-3 col-sm-2" >
                     <button class="btn btn-outline-secondary btn-sm" type="submit" name="generate">Generate test record</button>
                   </div>
                </div>
               </form>
              
               <hr>
        
            <!-- Accum file part -->
            <h1 class="text-center text-muted" >Accum file generator</h1>
               <form id="newForm" class="was-validated" action="/accumFileGen" method="POST">
                 <div class=" form-group row">
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Tran Type</label>
                    <div class="col-sm-2">
                      <input type="text" name="tranType" class="form-control form-control-sm" id="colFormLabelSm" placeholder="A(Accum)" required maxlength="1" pattern="[A]{1}">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Card holder num</label>
                    <div class="col-sm-2">
                      <input type="text" name="cardNum" class="form-control form-control-sm" id="colFormLabelSm" placeholder="10 digit card holder #" required maxlength="10" pattern="[0-9]{10}">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Member num</label>
                    <div class="col-sm-2">
                      <input type="text" name="memNum" class="form-control form-control-sm" id="colFormLabelSm" placeholder="2 digit member #" required maxlength="2" pattern="[0-9]{02}">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Sponsor num</label>
                    <div class="col-sm-2">
                      <input type="text" name="spoNum" class="form-control form-control-sm" id="colFormLabelSm" placeholder="4 digit number #" required maxlength="4" pattern="[0-9]{04}">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Last name</label>
                    <div class="col-sm-2">
                      <input type="text" name="lastName" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Not mandatory" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">First name</label>
                    <div class="col-sm-2">
                      <input type="text" name="firstName" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Not mandatory" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Birth date</label>
                    <div class="col-sm-2">
                      <input type="text" name="birthDate" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="CCYYDDMM" required maxlength="8" pattern="[0-9]{08}" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Copay Amt</label>
                    <div class="col-sm-2">
                      <input type="number" name="copayAmt" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="Total Copay Amt (+/-)" min="-1000000" max="1000000">
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Total amt paid</label>
                    <div class="col-sm-2">
                      <input type="number" name="totAmt" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="Total Amt Paid (+/-)" min="-1000000" max="1000000" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Roll Start date</label>
                    <div class="col-sm-2">
                      <input type="text" name="rollDate" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="CCYYDDMM" required maxlength="8" pattern="[0-9]{08}" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Alt Grp ID</label>
                    <div class="col-sm-2">
                      <input type="text" name="altGrpId" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Not mandatory" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Med Ded Amt</label>
                    <div class="col-sm-2">
                      <input type="number" name="medDed" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="Med Ded Amt (+/-)" min="-100000000" max="100000000" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Med Max Amt</label>
                    <div class="col-sm-2">
                      <input type="number" name="medMax" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="Med Max Amt (+/-)" min="-100000000" max="100000000" >
                    </div>
        
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Med OOP Amt</label>
                    <div class="col-sm-2">
                      <input type="number" name="medOop" class="form-control form-control-sm" id="colFormLabelSm" required placeholder="Med OOP Amt (+/-)" min="-100000000" max="100000000" >
                    </div>
                  </div>
                 <br>
                 <div class="mb-3" >
                   <button class="btn btn-outline-secondary btn-sm" type="submit" name="generate">Generate test record</button>
                 </div>
               </form>
        
               <hr>
        
               <h1 class="text-center text-muted" >Upload your own file</h1>
               <form action="/uploadFile" enctype="multipart/form-data" method="POST"> 
                
                <div class="mb-6 col-sm-6">  
                  <label for="runType">File format</label>
                  <select name="runType" id="runType">
                    <option value="X12" name = "X12" >X12</option>
                    <option value="Cardh29" name = "Cardh29" >Cardh29</option>
                    <option value="Accum" name = "Accum" >Accum</option>
                  </select>
                </div>
        
                <div class="col-sm-5 mb-3">
                  <label for="formFileSm" class="form-label">Upload your own file </label>
                  <input class="form-control form-control-sm" id="formFileSm" type="file" name="uploaded_file" />
                </div>
                <div class="mb-3" >
                  <button class="btn btn-outline-secondary btn-sm" type="upload" name="upload">Submit to upload </button>
                </div>
              </form>
              
              <hr>
              <h1 class="text-center text-muted" >Send Files to Server</h1>
              <form action="/sendFile" method="POST">
                <div class="text-center">
                  <div class="mb-6 col-sm-6">  
                    <label for="runType">File format</label>
                    <select name="runType" id="runType">
                      <option value="X12" name = "X12" >X12</option>
                      <option value="Cardh29" name = "Cardh29" >Cardh29</option>
                      <option value="Accum" name = "Accum" >Accum</option>
                    </select>
                  </div>
               </div>
        
               <div class="text-center">
                 <button class="btn btn-outline-success btn-sm" type="submit" name="sendFile"> Send file to server </button>
               </div>
              </form> 
              <hr>
        <!-- Footer-->
        <footer class="py-5 bg-black">
            <div class="container px-5"><p class="m-0 text-center text-white small">Copyright &copy; PDMI 2021</p></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
